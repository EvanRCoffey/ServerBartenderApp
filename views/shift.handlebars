<div id="mainDiv">

    <!--@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@-->
    <!--New Shift Form-->
    <!--@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@-->


    {{#unless jobs}}
        <!-- This section only shows when no jobs. -->
        <div class="input-field">
            <h5>To add information for a shift, you must first create a job.
            <a href="/job"><h5>Click here to create one.</h5></a>
        </div>
    {{/unless}}
        
    {{#if jobs}}
        <h4>Fill out this form to create a new shift</h4>

        <form id="shiftForm" method="POST" onsubmit="return shiftValidate()" action="/newShift">

            <!--jobID INT-->
            <div class="input-field">
                <select name="job_id" id="jobID" required>
                    <option value="">Click here to choose a job</option>
                    {{#each jobs}}
                        <option value="{{dataValues.id}}">{{dataValues.job_name}}</option>
                    {{/each}}
                </select>
                <label>Job Selector</label>
            </div>

            <!--totalWalkedWith DECIMAL(10,2)-->
            <div class="input-field">
                <input name="totalWalkedWith" id="totalWalkedWith" type="number" step="0.01" min="0" max="100000" class="validate" required>
                <label for="totalWalkedWith">Total walked with</label>
            </div>
        
            <!--largestTip DECIMAL(10,2)-->
            <div class="input-field">
                <input name="largestTip" id="largestTip" type="number" step="0.01" min="0" max="100000" class="validate">
                <label for="largestTip">Largest tip</label>
            </div>

            <!--smallestTip DECIMAL(10,2)-->
            <div class="input-field">
                <input name="smallestTip" id="smallestTip" type="number" step="0.01" min="0" max="100000" class="validate">
                <label for="smallestTip">Smallest tip</label>
            </div>

            <!--stiffed INT(10)-->
            <div class="input-field">
                <input name="stiffed" id="stiffed" type="number" class="validate">
                <label for="stiffed">Number of times stiffed (hopefully zero!)</label>
            </div>

            <!--sales DECIMAL(10,2)-->
            <div class="input-field">
                <input name="sales" id="sales" type="number" step="0.01" min="0" max="100000" class="validate" required>
                <label for="sales">Sales</label>
            </div>

            <!--ppa DECIMAL(10,2)-->
            <div class="input-field">
                <input name="ppa" id="ppa" type="number" step="0.01" min="0" max="100000" class="validate">
                <label for="ppa">PPA</label>
            </div>

            <!--tipout DECIMAL(10,2)-->
            <div class="input-field">
                <input name="tipout" id="tipout" type="number" min="0" max="100000" step="0.01" class="validate">
                <label for="tipout">Total tipped out</label>
            </div>

            <!--tipPercent DECIMAL(10,2)-->
            <div class="input-field">
                <input name="tipPercent" id="tipPercent" type="number" min="0" max="100000" step="0.01" class="validate">
                <label for="tipPercent">Tip %</label>
            </div>

            <!--bwl DECIMAL(10,2)-->
            <div class="input-field">
                <input name="bwl" id="bwl" type="number" step="0.01" min="0" max="100" class="validate">
                <label for="bwl">BWL %</label>
            </div>

            <!--comments MEDIUMBLOB-->
            <div class="input-field">
                <textarea name="comments" id="comments"></textarea>
                <label for="comments">Comments</label>
            </div>

            <!--breakthroughs MEDIUMBLOB-->
            <div class="input-field">
                <textarea name="breakthroughs" id="breakthroughs"></textarea>
                <label for="breakthroughs">Breakthroughs</label>
            </div>

            <!--shiftDate DATE-->
            <div class="input-field">
                <input name="shiftDate" id="shiftDate" type="date" class="datepicker" required>
                <label for="shiftDate">Click here to select a date for this shift</label>
            </div>

            <!--timeIn TIMESTAMP NOT NULL-->
            <br><br><br><br>
            <input type="range" min="0" max="95" value="48" step="1" class="timeRun" id="inTime" oninput="showInTime(this.value)" required/><br><span id="inTimeSpan">In-time: 12:00 PM</span><br><br>
            <input id='inTimeHidden' type="hidden" name="inTime" value='12:00:00'>

            <!--timeOut TIMESTAMP NOT NULL-->
            <input  type="range" min="0" max="95" value="48" step="1" class="timeRun" id="outTime" oninput="showOutTime(this.value)" required/><br><span id="outTimeSpan">Out-time: 12:00 PM</span><br><br>
            <input id='outTimeHidden' type="hidden" name="outTime" value='12:00:00'>

            <!--shiftType VARCHAR(32)-->
            <select name="shiftType" id="shiftType">
              <option value="" disabled selected>Click here to choose the shift type</option>
              <option value="breakfast">Breakfast</option>
              <option value="brunch">Brunch</option>
              <option value="lunch">Lunch</option>
              <option value="dinner">Dinner</option>
              <option value="double">Double</option>
              <option value="openToClose">Open to Close</option>
            </select>
            <label>Shift type</label>
            
            <button class="btn shiftSubmit" type="submit">Create New Shift</button>
        
        </form>
    {{/if}}
</div>

{{#if jobs}}
    <div id="timeEqual" class="modal">
        <div class="modal-content">
            <h5>In-Time and Out-Time cannot be the same.</h5>
            <button class="btn" onclick="closeModal()">Oops. I'll fix it.</button>
        </div>
    </div>

    <div id="timeLess" class="modal container">
        <div class="modal-content">
            <h5>In-Time is before Out-Time.</h5>
            <div class="row">
                <button class="btn" onclick="closeModal()">Oops. I'll fix it.</button>
            </div>
            <button class="btn shiftSubmit" onclick="submitForm()" type="submit">Submit Anyways.</button>
        </div>
    </div>
{{/if}}

<script type="text/javascript" src="./javascript/shift.js"></script>